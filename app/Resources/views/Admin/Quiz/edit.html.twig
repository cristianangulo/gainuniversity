{% extends '::admin.html.twig' %}

{% block title_contenido %} Quiz {% endblock %}

{% block navbar_contenido %}

    <a href="{{ path('admin_quiz') }}" class="btn btn-default">
      <span class="glyphicon glyphicon-chevron-left"></span>
        Regresar
    </a>

{% endblock %}

{% block body_contenido -%}
    <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-body">
        {{ form(edit_form, {'attr':{'novalidate':'novalidate'}}) }}
      </div>
    </div>


    </div>
    <div class="col-md-4">
      <div class="panel panel-default">
        <div class="panel-body">
          {{ form(preguntas_form) }}
        </div>
      </div>
    </div>

    <div class="col-md-8">
      <div class="panel panel-default">
        <div class="panel-body">

          {{ form_start(quiz_preguntas_form)}}
            {% macro prototype(pregunta) %}
             <tr>
               <td>{{ form_widget(pregunta.pregunta) }}</td>
               <td>{{ form_widget(pregunta.posicion) }}</td>
               <td>
                <a href="{{ path('admin_quiz_pregunta', { id: pregunta.vars.value.id }) }}" class="btn btn-success opciones">
                  <span class="glyphicon glyphicon-plus"></span> Opciones
                </a>
                <button class="btn btn-default delete">
                  <span class="glyphicon glyphicon-remove"></span>
                </button>
               </td>
             </tr>
             {% endmacro %}

             <table class="table table-condensed">
                 <caption></caption>
                 <thead><tr>Preguntas</tr></thead>
                 <tbody class="collections">
                     {% for pregunta in quiz_preguntas_form.preguntas %}
                        {{ _self.prototype(pregunta) }}
                     {% endfor %}
                 </tbody>
             </table>
          {{ form_end(quiz_preguntas_form)}}

        </div>
      </div>
    </div>


{% endblock %}
